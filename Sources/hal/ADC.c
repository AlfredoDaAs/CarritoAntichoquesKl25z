/*
 * ADC.c
 *
 *  Created on: Apr 4, 2016
 *      Author: Alfredo
 */

//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
/*!
	\file
	\author
	\date
	\brief	
*/
//------------------------------------------------------------------------------
//------------------------------------------------------------------------------
// Includes
//------------------------------------------------------------------------------
#include "ADC.h"
//------------------------------------------------------------------------------
// Defines
//------------------------------------------------------------------------------
/*!
    \def
    \brief
*/


//------------------------------------------------------------------------------
// Enums
//------------------------------------------------------------------------------
/*!
    \enum
    \brief
*/


//------------------------------------------------------------------------------
// Variables
//------------------------------------------------------------------------------
/*!
    \var
    \brief
*/
U16 U16vADCValue;
//------------------------------------------------------------------------------
/*!
    \fn
    \param
    \return
    \brief  
*/
void vfnInitAdc(ePorts port, U08 u08Pin){	
	vfnInitGpio(port);
	
	U08 u08arrayPines[] = {u08Pin};
	vfnConfigPortRegPins(port, u08arrayPines, 1, ADC);
	
	SIM_SCGC6 |= SIM_SCGC6_ADC0_MASK;
	
	ADC0_CFG1 |= ADC_CFG1_MODE_MASK;
	
	ADC0_SC3 |= ADC_SC3_ADCO_MASK;
	ADC0_SC3 |= ADC_SC3_AVGE_MASK;
	
	ADC0_SC1A &= ~(ADC_SC1_ADCH_MASK);
}

void vfnADC_IRQ(void){
	U16vADCValue = ADC0_RA;
	ADC0_SC1A |= ADC_SC1_COCO_MASK;
}
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------

